<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <!-- syntax highlighting CSS -->
  <link rel="stylesheet" href="/css/syntax.css">

  <!-- Custom CSS -->
  <link rel="stylesheet" href="/css/main.css">
  <!-- // <script src="http://syssgx.github.io/xml.js/js/xmllint.js"></script> -->
  <!-- // <script src="/scripts/bootstrap.min.js"></script> -->
  	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
	<script>window.jQuery || document.write('<script src="/scripts/jquery.min.js"><\/script>')</script>
	<script src="/scripts/bootstrap.min.js"></script>
<!--<script src="scripts/codemirror.js"></script>-->
    <!--<script src="scripts/searchcursor.js"></script>-->
    <!--<script src="scripts/match-highlighter.js"></script>-->
    <!--<script src="scripts/xml.js"></script>-->
	<!--<script src="scripts/prettify.js"></script>-->
	<!-- <script src="/scripts/xmllint.js"></script> -->
	<!-- // <script src="/scripts/script.js"></script> -->

  <link href="/favicon.ico" rel="shortcut icon" type="image/vnd.microsoft.icon" />

  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-286386-31', 'auto');
    ga('send', 'pageview');
  </script>
  <title>errores comunes</title>
</head>

<body class="page-content page-columns-2">
  <a name="top" id="top"></a>
<div id="header-bg">
  <div id="bg-top"><div id="bg-top-left"></div></div>
  <div id="bg-fix"></div>
</div>
<div class="container" id="header">
  <div class="navbar">
    <div class="navbar-inner">
      <div class="container">
        <a id="logo" class="brand icon-logo-off" href="http://diverza.com"></a>
        <div class="nav-collapse">

          <ul class="menu nav">
            <li class="item-101">
              <a href="">portada</a>
            </li>
            <li class="item-102">
              <a href="http://www.diverza.com/historia" >historia</a>
            </li>
            <li class="item-104">
              <a href="http://blog.diverza.com" >blog</a>
            </li>
            <li class="item-105">
              <a href="http://desarrolladores.diverza.com" id="stamp-navitem-selected">ecosistema</a>
            </li>
            <li class="item-103 parent">
              <a href="http://www.diverza.com/contacto" >contacto</a>
            </li>
            <li class="item-106">
              <a href="http://www.diverza.com/soporte" >soporte</a>
            </li>
            <li class="item-107">
            <a href="http://www.diverza.com/acceso" >acceso</a>
            </li>
            <li id="colors-bar">
              <div class="color-bar color-bar-blue"></div>
              <div class="color-bar color-bar-yellow"></div>
              <div class="color-bar color-bar-green"></div>
              <div class="color-bar color-bar-red"></div>
            </li></ul>
          </div>
          <div class="nav-social">
            <ul class="menu-social">
              <li class="item-131"><a class="rss" href="http://feeds.feedburner.com/blog-diverza">RSS</a></li><li class="item-130"><a class="googleplus" href="https://plus.google.com/u/0/100935627964150268592/posts">Google Plus</a></li><li class="item-129"><a class="youtube" href="http://www.youtube.com/user/DiverzaTv?feature=mhee">YouTube</a></li><li class="item-128"><a class="facebook" href="http://www.facebook.com/pages/Diverza/350358341644324">Facebook</a></li><li class="item-127"><a class="twitter" href="http://twitter.com/diverza">Twitter</a></li></ul>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="container" id="header-brand-dummy"></div>
    <div id="header-brand">
      <div class="navbar container">
        <div class="navbar-inner">
          <div class="container">
            <div class="row">

              <div class="span2 nav-welcome ">
                <a href="/"><span class="welcome">desarrolladores<span class="diverza-dot">.</span></span></a>
              </div>

              <div class="nav-collapse-brand" id="menu-sub">
                <ul class="menu nav">
                  <li class="item-102" id="stamp-menu-item">
                    <a href="/timbre/">timbre fiscal</a>
                  </li>
                  <li class="item-103" id="conector-menu-item">
                    <a href="/conector/">conector fiscal</a>
                  </li>
                  <li class="item-104" id="docs-menu-item">
                    <a href="/documentos/">documentos</a>
                  </li>
                  <li class="item-105">
                    <a href="https://groups.google.com/forum/#!forum/diverza" target="_blank">grupos</a>
                  </li>
                  <li class="item-106">
                    <a href="https://github.com/diverza/desarrolladores" target="_blank">github</a>
                  </li>
                </ul>
              </div>
              <div class="nav-account">
                <div class="module">
                  <div class="custom">01.800.070.4000</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

  <style>
  #stamp-menu-item { color: #fff !important;
    background: #ddd;
    -webkit-box-shadow: inset 2px 2px 2px rgba(0, 0, 0, 0.25);
    -moz-box-shadow: inset 2px 2px 2px rgba(0, 0, 0, 0.25);
    -o-box-shadow: inset 2px 2px 2px rgba(0, 0, 0, 0.25);
    -ms-box-shadow: inset 2px 2px 2px rgba(0, 0, 0, 0.25);
    box-shadow: inset 2px 2px 2px rgba(0, 0, 0, 0.25);
    -webkit-border-radius: 20px;
    -moz-border-radius: 20px;
    -o-border-radius: 20px;
    -ms-border-radius: 20px;
    border-radius: 20px;
    text-shadow: 1px 1px rgba(0, 0, 0, 0.20);
    height: 35px;
    margin-top: 2px;
  }
</style>

<div id="body">
  <div class="container">
    <div id="main" class="row">
      <div id="content" class="span12">
        <div id="system-message-container">
        </div>
        <div id="component">
          <div class="item-pagepage-history">
            <div class="clr"></div>
            <div class="article-content-text">
              <h1>errores comunes<span class="diverza-dot">.</span></h1>
              <span class="h1-line"></span>
              <div class="clr">&nbsp;</div>
              <p>A continuación te presentamos los mensajes de error más comunes que regresa nuestro servicio en una petición de emisión o timbrado al servicio REST, así como su posible solución.</p>

<hr>

<h2 id="400-bad-request">400 Bad Request</h2>

<p><br></br>
Éste mensaje de respuesta de nuestro servicio además del encabezado, podrá regresar información como:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">  HTTP/1.1 400 Bad Request
  Server: nginx/1.0.15
  Date: Thu, 26 Feb 2015 17:27:18 GMT
  Content-Type: text/html;charset=utf-8
  Connection: keep-alive
  Content-Length: 995
</code></pre></div>
<p>Las situaciones por las que podrías estar recibiendo este mensaje de error, son las siguientes, si te encuentras en este caso, por favor, valida que estás realizando la petición correcta para el comprobante correcto.</p>

<ul>
<li>Estás enviando una petición de timbrado o emisión a una URL incorrecta.</li>
<li>No estás incluyendo todos los parámetros necesarios para esa petición.</li>
</ul>

<p>De forma aclaratoria, te informamos de las URL y peticiones correctas dependiendo del servicio que necesites.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">  Timbrado CFDI
    http://staging.diverza.com/stamp (ó ../stamp/complete)
    x-auth-token  (obligatorio)
    x-refid       (opcional)

  Emisión de CFDI
    http://staging.diverza.com/issue
    x-auth-token  (obligatorio)
    x-refid       (opcional)

  Timbrado de Retenciones
    http://staging.diverza.com/api/v1/timbrar (ó ../timbrar?completo)
    x-auth-token  (obligatorio)
    x-refid       (opcional)
    Content-Type  (obligatorio)
    Content-MD5   (obligatorio, aunque no se valida el contenido por el momento)

  Emisión de Retenciones
    http://staging.diverza.com/api/v1/emitir
    x-auth-token  (obligatorio)
    x-refid       (opcional)
    Content-Type  (obligatorio)
    Content-MD5   (obligatorio, aunque no se valida el contenido por el momento)
</code></pre></div>
<p><br></br></p>

<h2 id="443-xml-no-v-lido-segun-esquema">443 XML no válido segun esquema</h2>

<p><br></br>
Para este caso en particular podemos decir que tu petición se generó correctamente, y llegó la información a nuestro servicio, adicionalmente validamos el documento y encontramos un inconsistencia en la estructura de tu XML.</p>

<p>Deberás validar contra esquema el archivo XML que estás enviando a nuestro servicio, para determinar dónde se encuentra el error.
En la sección de <code>recursos</code> de la página <code>índice</code>, podrás encontrar los esquemas oficiales para cada tipo de comprobante con sus respectivos complementos.
<br></br></p>

<h2 id="3015-no-fue-posible-generar-el-timbre-fiscal-el-comprobante-ha-sido-timbrado-previamente-tf">3015 No fue posible generar el Timbre Fiscal®, el comprobante ha sido timbrado previamente. - TF</h2>

<p><br></br>
Ésto sólo ocurre en el caso de enviar un CFDI, que ya contiene el complemento del timbre. El comprobante se debe de enviar a la petición de timbrado, <code>SIN</code> el complemento del <code>TimbreFiscalDigital</code>.
<br></br></p>

<h2 id="302-found">302 Found</h2>

<p><br></br>
La URL a la que estás apuntando la petición de timbrado o emisión, no es correcta:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">  Ambiente de &quot;staging&quot; ==  http
  Ambiente productivo   ==  https
</code></pre></div>
<p><br></br></p>

<h2 id="401-unauthorized"> 401 Unauthorized</h2>

<p><br></br>
Al recibir este mensaje de error, se indica que el token que estás utilizando para identificarte en nuestro servicio, <code>NO</code>es correcto, necesitarás validar con el contacto administrativo de la empresa que la información ingresada, sea realmente la que nosotros les proporcionamos en el momento de realizar la compra.</p>

<p><br></br></p>

<hr>

<p>El código de respuesta del servidor deberá ser <em>200 OK</em> cuando la petición sea exitosa, en caso contrario te invitamos a revisar la <a href="../codigos">Lista de Códigos de Respuesta</a>, que contiene todos los posibles códigos de respuesta del servicio de timbrado y sus posibles soluciones.</p>

<hr>

            </div>
          </div>
        </div>
      </div>
      <div id="sidebar-right" class="span3 sidebar">
    <div class="sidebar-padding">
        <div class=" ">
            <div class="module">

                <h3><a href="/timbre/indice.html">mapa del sitio<span class="diverza-dot">.</span></a></h3>
                <div class="clr"></div>
                <div class="module-content"></div>

                <h3>servicio<span class="diverza-dot">.</span></h3>
                <span class="h3-line"></span>
                <div class="clr"></div>

                <div class="module-content">
                    <ul class="menu">
                        <li class="item-178"><a href="/timbre/endpoints/">endpoints</a></li>
                        <li class="item-178"><a href="/timbre/refid.html">el refID</a></li>
                        <li class="item-178"><a href="/timbre/cfd/timbreWeb.html">cuenta web</a></li>
                        <li class="item-178"><a href="/timbre/cfd/repImpresa.html">representación impresa</a></li>
                    </ul>
                </div>

                <h3>recursos<span class="diverza-dot">.</span></h3>
                <span class="h3-line"></span>
                <div class="clr"></div>

                <div class="module-content">
                    <ul class="menu">
                        <li class="item-178"><a href="/timbre/cfd/">cfdi</a></li>
                        <li class="item-178"><a href="/timbre/cfd/comoGenerarCFDI.html">generar cfdi</a></li>
                        <li class="item-178"><a href="/timbre/recursos/">esquemas y ejemplos</a></li>
                        <li class="item-178"><a href="/timbre/lenguajes/">ejemplos de código</a></li>
                    </ul>               
                </div>

                <h3>códigos de respuesta<span class="diverza-dot">.</span></h3>
                <span class="h3-line"></span>
                <div class="clr"></div>

                <div class="module-content">
                    <ul class="menu menu-lines">
                        <li class="item-178"><a href="/timbre/codigos/">emisión y timbrado</a></li>
                        <li class="item-178"><a href="/timbre/codigos/cod_cancelacion.html">cancelación</a></li>
                    </ul>
                </div>
                
                <h3>FAQ's<span class="diverza-dot">.</span></h3>
                <span class="h3-line"></span>
                <div class="clr"></div>
                <div class="module-content">
                    <ul class="menu">
                        <li class="item-178"><a href="/timbre/documentacionServicio/pregFrecuentes.html">preguntas frecuentes</a></li>
                        <li class="item-178"><a href="/timbre/documentacionServicio/errComunes.html">errores comunes</a></li>
                    </ul>               
                </div>
            </div>
            <div class="clr"></div>
        </div>
    </div>
</div>
    </div>
  </div>
</div>
  <style>
    .hero-unit { }
    #body { background: #fff url('/images/content-dev.png') no-repeat 50% 0 ; }
  </style>

  <div id="footer">
	<div class="container">
		<footer>

			<ul class="menu">
				<li class="item-123"><a href="http://www.diverza.com/privacidad">Aviso de privacidad</a></li><li class="item-124"><a href="http://www.diverza.com/terminos">Términos y condiciones</a></li><li class="item-125"><a href="http://www.diverza.com/integrate">Intégrate al equipo</a></li><li class="item-135"><a href="http://www.diverza.com/mi-cuenta">Mi cuenta</a></li></ul>

				<div class="custom">

					<div class="row-fluid">
						<br>
						<div class="span3"></div>

						<div class="span2" style="margin:0px"><a href="http://www.greatplacetowork.com.mx" title="GPTW" class="footer-logo-gptw" style="margin: -20px 0 0 auto;" target="_blank">GPTW</a></div>

						<div class="span2" style="margin:0 6px 0 20px;"><a href="http://www.sat.gob.mx/sitio_internet/asistencia_contribuyente/principiantes/comprobantes_fiscales/66_20006.html" title="SAT" class="footer-logo-sat" style="margin: -20px auto 0 auto;" target="_blank">SAT</a></div>

						<div class="span2" style="margin:0px"><a href="http://www.amexipac.org" title="AMEXIPAC" class="footer-logo-amexipac" style="margin: -20px auto 0 0;" target="_blank">AMEXIPAC</a></div>

						<div class="span2"></div>

						<div class="clr"></div>

						<div style="font-size:10px; margin-top: 5px;">DIVERZA © Copyright.&nbsp;Los nombres y logos de Buzón Fiscal®, Conector Fiscal® y Timbre Fiscal® son marcas registradas de Diverza Información y Análisis, SAPI de CV. Otros nombres y logos son marcas registradas de sus respectivos propietarios. Todo el contenido de este sitio y los documentos para descarga son propiedad intelectual de Diverza Información y Análisis, SAPI de CV.<br> 

							<div class="clr"></div>
							<div style="font-size:12px;margin-top: 5px;text-align: center;">

								<script type="text/javascript">
									<!--
									var prefix = '&#109;a' + 'i&#108;' + '&#116;o';
									var path = 'hr' + 'ef' + '=';
									var addy64856 = 'c&#111;nt&#97;ct&#111;' + '&#64;';
									addy64856 = addy64856 + 'd&#105;v&#101;rz&#97;' + '&#46;' + 'c&#111;m';
									document.write('<a ' + path + '\'' + prefix + ':' + addy64856 + '\'>');
									document.write(addy64856);
									document.write('<\/a>');
									//-->\n </script>
									<span style="display: none;">This email address is being protected from spambots. You need JavaScript enabled to view it.
<script type="text/javascript">
	<!--
	document.write('</');
	document.write('span>');
 //-->
</script></span> &nbsp;&nbsp;&nbsp;| &nbsp;&nbsp;&nbsp;<a href="https://www.diverza.com/servicio-gratuito">acceso al servicio gratuito</a> &nbsp;&nbsp;&nbsp;| &nbsp;&nbsp;&nbsp; 01.800.070.4000</div></div>
</div></div>

</footer>
</div>
</div>
</body>
</html>